<div class="container mt-4">

  <h2 class="text-center mb-4">📚 Willkommen in der BuchApp</h2>

  <!-- 🔎 Suchleiste -->
  <div class="search-box p-2 bg-light rounded shadow-sm">
    <div class="search-field p-1 input-group">
      <span class="input-group-text">
        <i class="fa-solid fa-magnifying-glass p-1"></i>
      </span>
      <input type="text" class="form-control" [(ngModel)]="buchId" (keyup.enter)="searchId()"
        placeholder="Suche nach ID" />
      <button class="btn btn-primary" (click)="searchId()">
        Suchen
      </button>
    </div>
    <p *ngIf="errorMsgId" class="error-msg justify-content-center">{{ errorMsgId }}</p>
  </div>
  <hr>
  <div class="search-box p-3 bg-light rounded shadow-sm mb-4">
    <div class="search-field input-group mb-2">
      <span class="input-group-text">
        <i class="fa-solid fa-magnifying-glass p-1"></i>
      </span>
      <input type="text" class="form-control" [(ngModel)]="searchInput" (keyup.enter)="search()"
        placeholder="Suche nach ISBN oder Titel" />
    </div>

    <!-- ⭐ Bewertung -->
    <div class="star-rating">
      <span>Rating:</span>
      <ngb-rating [(rate)]="rating!" [max]="5">
        <ng-template let-fill="fill" let-index="index">
          <i class="fa-star" [ngClass]="{
                    'fa-solid': fill === 100,
                    'fa-regular': fill !== 100,
                    'filled': fill === 100,
                  }">
          </i>
        </ng-template>
      </ngb-rating>

      <!--Lieferbar Checkbox abfrage-->
      <div class="align-items-center justify-content-center gap-3 mt-1">
        <input class="form-check-input me-1" type="checkbox" id="flexCheckDefault" [(ngModel)]="lieferbarChecked"
          (change)="onLieferbarChange()" />
        <label class="form-check-label" for="flexCheckDefault">Lieferbar</label>
        <input class="form-check-input me-1" type="checkbox" id="nichtLieferbarCheck" [(ngModel)]="notlieferbarChecked"
          (change)="onNichtLieferbarChange()" />
        <label class="form-check-label" for="nichtLieferbarCheck">Nicht lieferbar</label>
      </div>
    </div>
    <!-- 📘 Buch-Art Dropdown -->
    <div class="mb-3">
      <label for="buchArt" class="form-label fw-bold">📘 Buch-Art</label>
      <select id="buchArt" class="form-select" [(ngModel)]="art">
        <option *ngFor="let artItem of arts" [value]="artItem.value">
          {{ artItem.viewValue }}
        </option>
      </select>
    </div>

    <!-- 🟢 Suchen Button -->
    <button class="btn btn-primary w-100" (click)="search()">
      Jetzt suchen
    </button>
    <p *ngIf="errorMsgSearch" class="error-msg">{{ errorMsgSearch }}</p>
  </div>

  <!-- ➕ Neues Buch anlegen Button -->
  <div class="text-center mt-4">
    <button *ngIf="isAdmin" class="btn btn-success" (click)="geheZuAddSeite()">
      Neues Buch anlegen
    </button>
  </div>

</div>
